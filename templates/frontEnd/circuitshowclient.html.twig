{# templates/frontEnd/circuitshowclient.html.twig #}
{#
  {{ dump(circuit) }}
#}
<!DOCTYPE html>
<html>
<head>
  <title>Details for circuit {{ id }}</title>
  <style>
#panel, .flip {
    font-size: 16px;
    padding: 10px;
    text-align: center;
    background-color: #4CAF50;
    color: white;
    border: solid 1px #a6d8a8;
    margin: auto;
}

#panel {
    display: none;
}
</style>
</head>
<body>
  <h1>{{ circuit.description }}</h1>

	<h2>Détails</h2>

			<p>Description: {{ circuit.description }}</p>

			<p>Départ de {{ circuit.villeDepart }} pour {{ circuit.dureeCircuit }} j.
         de voyage à travers le {{ circuit.paysDepart }}, pour terminer à
         {{ circuit.villeArrivee }}.</p>

      <a href="{{ path('detailEtape', { 'id' : circuit.id }) }}">Détail des étapes</a>

      <p class="flip" onclick="myFunction()">Click to show panel</p>

      <div id="panel">
  <p>This panel contains a div element, which is hidden by default (display: none).</p>
  <p>It is styled with CSS and we use JavaScript to show it (display: block).</p>
  <p>How it works: Notice that the p element with class="flip" has an onclick attribute attached to it. When the user clicks on the p element, a function called myFunction() is executed, which changes the style of the div with id="panel" from display:none (hidden) to display:block (visible).</p>
  <p>You will learn more about JavaScript in our JavaScript Tutorial.</p>
</div>

      <script>
function myFunction() {
    document.getElementById("panel").style.display = "block";
}
</script>
      
  {% if circuit.programmations is not empty %}
  <h2>Programmations de ce circuit</h2>
  {# <pre>{{ dump(circuit) }}</pre> #}
     	<table>
     	 		<thead>
     					<tr>
     				    	<th>Date de départ</th>
     						  <th>Nombre de personnes</th>
     						  <th>Prix</th>
     					</tr>
     				</thead>
     		{%  for programmation in circuit.programmations %}
          {% if "now"|date('Y-m-d')  < programmation.dateDepart()|date('Y-m-d') %}
         		<tr>
         		   <td>{{ programmation.dateDepart|date('d-m-Y')  }}</td>
         		   <td>{{ programmation.nombrePersonnes }}</td>
      			   <td>{{ programmation.prix }} euros</td>
       			</tr>
          {% endif %}
     		{% endfor %}
     		</table>
    {% else %}
    <p>Désolé : pas encore de programmations pour ce circuit.</p>
    {% endif %}

</body>
</html>
